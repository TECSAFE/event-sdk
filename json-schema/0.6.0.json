{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "BasicCustomerEventPayload": {
      "additionalProperties": false,
      "description": "Payload for deleting customers",
      "properties": {
        "customer": {
          "description": "The customer ID",
          "type": "string"
        },
        "salesChannel": {
          "description": "The sales channel ID",
          "type": "string"
        }
      },
      "required": [
        "customer",
        "salesChannel"
      ],
      "type": "object"
    },
    "GenericEmailEventPayload": {
      "additionalProperties": false,
      "description": "Payload for deleting customers",
      "properties": {
        "email": {
          "description": "The receiving email address",
          "type": "string"
        },
        "subject": {
          "description": "The email subject ID",
          "type": "string"
        },
        "text": {
          "description": "The email text, only normal text and links are supported, and should not contain HTML",
          "type": "string"
        }
      },
      "required": [
        "email",
        "subject",
        "text"
      ],
      "type": "object"
    },
    "MergeCustomerPayload": {
      "additionalProperties": false,
      "description": "Payload for merging customers",
      "properties": {
        "newCustomerId": {
          "description": "The new customer ID",
          "type": "string"
        },
        "newExternalCustomerId": {
          "description": "The new customer ID",
          "type": "string"
        },
        "newSalesChannelId": {
          "description": "The new sales channel ID",
          "type": "string"
        },
        "oldCustomerId": {
          "description": "The old customer ID",
          "type": "string"
        },
        "oldExternalCustomerId": {
          "description": "The old external customer ID",
          "type": "string"
        },
        "oldSalesChannelId": {
          "description": "The old sales channel ID",
          "type": "string"
        }
      },
      "required": [
        "oldExternalCustomerId",
        "newExternalCustomerId",
        "oldSalesChannelId",
        "newSalesChannelId",
        "oldCustomerId",
        "newCustomerId"
      ],
      "type": "object"
    },
    "EventsMap": {
      "type": "object",
      "properties": {
        "customer.merge": {
          "type": "string",
          "const": "MergeCustomerPayload"
        },
        "customer.delete": {
          "type": "string",
          "const": "BasicCustomerEventPayload"
        },
        "customer.created": {
          "type": "string",
          "const": "BasicCustomerEventPayload"
        },
        "email.generic": {
          "type": "string",
          "const": "GenericEmailEventPayload"
        }
      },
      "required": [
        "customer.merge",
        "customer.delete",
        "customer.created",
        "email.generic"
      ],
      "additionalProperties": false
    }
  }
}